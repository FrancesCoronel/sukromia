function getActiveTabSelectedText(e){chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.tabs.sendMessage(t[0].id,{method:"getSelection"},null,function(t){e(t.data)})})}function performCopy(){var e=getSelectionText();document.getElementById("encrypt").value=e}function performEncrypt(){var e=document.getElementById("Key").value;getActiveTabSelectedText(function(t){""===t&&(t=document.getElementById("originalText").value),console.log(t);var c=encrypt(t,e);document.getElementById("processedText").value=c,console.log(c),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{method:"replaceSelection",selectedText:t,processedText:c},null,function(e){})})})}function performDecrypt(){var e=document.getElementById("Key").value;getActiveTabSelectedText(function(t){""===t&&(t=document.getElementById("originalText").value),console.log(t);var c=decrypt(t,e);document.getElementById("processedText").value=c,console.log(c),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{method:"decryptSelection",selectedText:t,processedText:c},null,function(e){})})})}$(document).ready(function(){$("#performEncrypt").click(performEncrypt),$("#performDecrypt").click(performDecrypt)});